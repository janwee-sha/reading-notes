# 1. Kubernetes介绍

## 1.1 Kubernetes系统的需求

### 1.1.3 迈向持续交付

让同一个团队参与应用的开发、部署、运维的整个声明周期的实践被称为DevOps。

**带来的优点**

让开发者更多地在生产环境中运行应用，能够使它们对用户地需求和问题，以及运维团队维护应用所面临的困难，有一个更好的理解。

**让开发者和系统管理员做他们最擅长的**

理想情况是，开发者部署程序本身，无需知道硬件基础设施的任何情况，也不需要和运维团队交涉，这被叫做NoOps。运维团队关心硬件基础设施，但无需处理应用程序的独特性。

Kubernetes可以帮我们实现所有这些想法。通过对实际硬件做抽象，然后将自身暴露为一个平台，用于部署和运行应用程序。允许开发者自己配置和部署应用程序，而不需要系统管理员的任何帮助，让系统管理员聚焦于保持底层基础设施运转正常的同时，不需要关注实际运行在平台上的程序。

## 1.2 介绍容器技术

### 1.2.1 什么是容器

**容器实现隔离机制介绍**

容器隔离运行在同一操作系统上的多个进程的机制有：Linux命名空间，使每个进程只看到它自己的系统视图；Linux控制组（cgroups），限制了进程能使用的资源量（CPU、进程、网络带宽等）。

**用Linux命名空间隔离进程**

Linux存在以下类型的命名空间：

Mount（mnt）
Process ID（pid）
Network（net）
Inter-process communication（ipd）
UTS
User ID（user）

每种命名空间被用来隔离一组特定的资源。如，UTS命名空间决定了运行在命名空间里的应用程序能看见什么网络接口。

**限制进程的可用资源**

cgroups是一个Linux内核功能，被用来限制一个进程或一组进程的资源使用。一个进程的资源使用量不能超出被分配的量。

## 1.3 Kunernetes介绍

### 1.3.2 深入浅出地了解Kubernetes

**Kubernetes地核心功能**

Kubernetes系统由一个主节点和若干工作节点组成。开发者把一个应用列表提交到主节点，Kubernetes将它们部署到集群中的工作节点。组件部署在哪个节点对于开发者和系统管理员来说都不用关心。

**帮助开发者聚焦核心应用功能**

**帮助运维团队获取更高的资源利用率**

### 1.3.3 Kubernetes集群架构

在硬件级别，一个Kubernetes集群由很多节点组成，这些节点被分成以下两种类型：

- 主节点：承载着Kubernetes控制和管理整个集群系统的控制面板。
- 工作节点，它们运行用户实际部署的应用。

**控制面板**

控制面板用于控制集群并使它工作。它包含多个组件，组件可以运行在单个主节点或通过副本分别部署在多个主节点以确保高可用性。这些组件是：

- Kubernetes API服务器，你和其他控制面板组件都要和它通信。
- Scheduler，调度你的应用（微应用的每个可部署组件分配一个工作节点）。
- Controller Manager，它执行集群级别的功能，如复制组件、持续跟踪工作节点、处理节点失败等。
- etcd，一个可靠的分布式数据存储，它能持久化存储集群配置。

**工作节点**

工作节点是运行容器化应用的机器。由以下组件完成。

- Docker、rkt或其他容器类型。
- Kuberlet，与API服务器通信，并管理它所在节点的容器。
- Kubernetes Service Proxy，负责组件之间的负载均衡网络流量。

